<!DOCTYPE html>
<html>
<head>
  <title>SSLC 2026 Crash Course</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f0f1a, #1a1a2e);
      color: white;
    }

    .container {
      padding: 20px;
      max-width: 500px;
      margin: auto;
    }

    .card {
      background: #111827;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 0 30px rgba(255, 204, 0, 0.15);
      margin-bottom: 20px;
    }

    h1 {
      color: #FFD700;
      font-size: 22px;
      margin-bottom: 10px;
    }

    .highlight {
      color: #FFD700;
      font-weight: bold;
    }

    .tagline {
      margin: 15px 0;
      font-size: 14px;
      opacity: 0.9;
    }

    ul {
      padding-left: 20px;
    }

    li {
      margin-bottom: 10px;
      font-size: 14px;
    }

    .goal-box {
      background: #1f2937;
      padding: 15px;
      border-radius: 12px;
      margin-top: 15px;
      font-weight: bold;
      text-align: center;
      color: #FFD700;
    }

    .footer-note {
      text-align: center;
      font-size: 13px;
      margin-top: 15px;
      opacity: 0.8;
    }

    .student-name {
      font-size: 14px;
      opacity: 0.7;
      margin-bottom: 10px;
    }
    .yellow-btn {
  background: #FFD700;
  color: black;
  border: none;
  padding: 14px;
  border-radius: 12px;
  width: 100%;
  font-weight: bold;
  font-size: 15px;
  margin-top: 12px;
  cursor: pointer;
  transition: 0.3s;
}

.yellow-btn:hover {
  transform: scale(1.03);
  box-shadow: 0 0 15px rgba(255,215,0,0.6);
}
  </style>
</head>

<body>

<div class="container">

  <div class="student-name">
    Hi, <span id="studentName"></span> üëã
  </div>

  <div class="card">
<div style="text-align:center; margin-bottom:20px;">

  <<div style="margin-bottom:20px;">
  <img src="Manjunath.JPG"
       alt="Manjunath Sir"
       style="width:100%;
       border-radius:20px;
       object-fit:cover;
       box-shadow:0 0 40px rgba(255,215,0,0.25);" />
</div>


  <p style="margin-top:10px; font-size:14px; opacity:0.8;">
    Designed & Mentored by 
    <b style="color:#FFD700;">Manjunath Sir</b>
  </p>

</div>




    <h1>SSLC 2026 CRASH COURSE</h1>

    <p class="highlight">üöÄ 300 HOURS | 30 DAYS INTENSE COACHING</p>

    <p>üéØ Target: 90+ Marks in SSLC 2026</p>

    <p class="tagline">
      This is not a normal tuition.  
      This is a specialised, result-oriented crash program designed for serious students only.
    </p>

    <h3>‚úÖ What You‚Äôll Get:</h3>

    <ul>
      <li>‚úîÔ∏è All Subjects Covered</li>
      <li>‚úîÔ∏è Live Interactive Classes</li>
      <li>‚úîÔ∏è Recorded Classes (24/7 Access)</li>
      <li>‚úîÔ∏è Final Exam Question Paper Analysis üíÄ</li>
      <li>‚úîÔ∏è Most Important Questions & Patterns</li>
      <li>‚úîÔ∏è Smart Study Plan to Score Maximum Marks</li>
    </ul>

    <div class="goal-box">
      üí• 30 Days. 300 Hours. One Goal ‚Äì SSLC 90+
    </div>
<p style="font-style:italic; margin-top:5px;">
"The harder you work for something, the greater you'll feel when you achieve it."
</p>
<hr style="margin:25px 0; opacity:0.2;">

<div style="background:#1f2937; padding:18px; border-radius:15px; text-align:center;">

  <h3 style="color:#FFD700; margin-bottom:10px;">
    Want to Learn for FREE? üéì
  </h3>

  <p style="font-size:14px; opacity:0.9; margin-bottom:15px;">
    If you want to learn for <b style="color:#FFD700;">FREE</b>,
    add your <b>10 friends</b> and learn together!
  </p>

  <button class="yellow-btn" onclick="openContactPicker()">
    ‚ûï Add 10 Friends
  </button>

  <p style="font-size:12px; opacity:0.7; margin-top:8px;">
    üîí We only access selected contacts for referral purposes.
  </p>

</div>
    <div style="margin-top:20px; text-align:center;">
      
      <!-- Razorpay Button -->
      <div class="razorpay-embed-btn"
           data-url="https://pages.razorpay.com/pl_SFc311wp2lbtma/view"
           data-text="Pay Now"
           data-color="#FFD700"
           data-size="large">
        <script>
          (function(){
            var d=document; var x=!d.getElementById('razorpay-embed-btn-js')
            if(x){
              var s=d.createElement('script');
              s.defer=!0;
              s.id='razorpay-embed-btn-js';
              s.src='https://cdn.razorpay.com/static/embed_btn/bundle.js';
              d.body.appendChild(s);
            } else {
              var rzp=window['__rzp__'];
              rzp && rzp.init && rzp.init();
            }
          })();
        </script>
      </div>

    </div>

    <div class="footer-note">
      ‚è≥ Limited Time. Maximum Impact.
    </div>

  </div>

</div>

<script>
  // Show Student Name
  const name = localStorage.getItem("studentName");
  if(name){
    document.getElementById("studentName").innerText = name;
  } else {
    document.getElementById("studentName").innerText = "Student";
  }
</script>
<!-- üî• Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>

// SAME CONFIG YOU USED IN index.html
const firebaseConfig = {
  apiKey: "AIzaSyCehyZQukDfslKTY_u9yXcUrzGtMNHvuPA",
  authDomain: "his-academy.firebaseapp.com",
  projectId: "his-academy",
  storageBucket: "his-academy.firebasestorage.app",
  messagingSenderId: "573278549264",
  appId: "1:573278549264:web:ca2ff160b5a100cc7d2195",
  measurementId: "G-8WPMS7H33F"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

let studentData = null;

auth.onAuthStateChanged(async(user)=>{
  if(!user){
    window.location.href = "index.html";
  }else{

    const doc = await db.collection("students").doc(user.uid).get();

    if(!doc.exists){
      alert("Student record not found");
      return;
    }

    studentData = doc.data();

    addReferralUI();
  }
});


function addReferralUI(){

  const container = document.querySelector(".card");

  const referralDiv = document.createElement("div");
  referralDiv.innerHTML = `
  <hr style="margin:20px 0; opacity:0.2;">
  <h3 style="color:#FFD700;">Refer 10 Friends & Unlock FREE</h3>
  <button class="yellow-btn" onclick="shareLoginLink()">
    Share on WhatsApp
  </button>
  <div style="text-align:center; margin-top:10px; font-size:22px; color:#FFD700;">
    üî• ${studentData.referralCount || 0}/10
  </div>
  <div id="unlockSection" style="margin-top:10px;"></div>
`;

  container.appendChild(referralDiv);

  updateUnlockUI();
}


function updateUnlockUI(){

  const unlockSection = document.getElementById("unlockSection");

  if(studentData.approved === true){
    unlockSection.innerHTML =
      "<h3 style='color:#FFD700;'>üéâ Course Access Approved!</h3>";
    return;
  }

  if(studentData.referralCount >= 10 && !studentData.unlockRequested){

    unlockSection.innerHTML =
      "<button onclick='requestUnlock()'>Unlock Now</button>";

  }else if(studentData.unlockRequested){

    unlockSection.innerHTML =
      "<p style='color:#FFD700;'>Verification Pending...</p>";
  }
}


function shareLoginLink(){

  const referralLink =
    window.location.origin +
    "/HiSAcademyWebApp/index.html?ref=" +
    studentData.referralCode;

  const message =
  "üî• SSLC 2026 Crash Course FREE üî•\n\n" +
  "üéØ 300 Hours Intensive Coaching\n" +
  "üöÄ Target 90+ Marks\n\n" +
  "Register here:\n" +
  referralLink;

  const whatsappURL =
  "https://api.whatsapp.com/send?text=" +
  encodeURIComponent(message);

  window.open(whatsappURL, "_blank");
  }  


async function requestUnlock(){

  const user = auth.currentUser;

  await db.collection("students").doc(user.uid).update({
    unlockRequested: true
  });

  studentData.unlockRequested = true;

  updateUnlockUI();

  alert("Unlock request sent for verification.");
}
  async function openContactPicker() {

  if ('contacts' in navigator && 'select' in navigator.contacts) {

    const properties = ['name', 'tel'];
    const options = { multiple: true };

    try {

      const contacts = await navigator.contacts.select(properties, options);

      contacts.forEach(contact => {

        let phone = contact.tel[0].replace(/\D/g, '');

        if (phone.startsWith('91') && phone.length === 12) {
          phone = phone.slice(2);
        }

        if (phone.length === 10) {
          console.log("Saving:", contact.name[0], phone);
          // üëâ Save to Firebase here
        }

      });

      alert("Friends added successfully!");

    } catch (error) {
      alert("Contact selection cancelled.");
    }

  } else {
    alert("Contact selection not supported on this device. Please use Android Chrome.");
  }
  }

</script>
</body>
</html>

