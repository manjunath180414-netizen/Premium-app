<!DOCTYPE html>
<html>
<head>
  <title>HiS Academy Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <style>
    body{
      margin:0;
      font-family:Poppins, sans-serif;
      background:linear-gradient(135deg,#0f0f1a,#1a1a2e);
      color:white;
    }

    .container{
      padding:20px;
      max-width:1000px;
      margin:auto;
    }

    h2{
      color:#FFD700;
    }

    .banner{
      background:linear-gradient(90deg,#FFD700,#ffcc00);
      color:black;
      padding:15px;
      border-radius:15px;
      font-weight:bold;
      text-align:center;
      margin-bottom:20px;
    }

    .card{
      background:#111827;
      padding:20px;
      border-radius:18px;
      margin-bottom:20px;
      box-shadow:0 0 25px rgba(255,215,0,0.15);
    }

    .countdown{
      color:#FFD700;
      font-weight:bold;
      margin-top:10px;
    }

    /* Motivation Slider */
    .slider{
      display:flex;
      overflow-x:auto;
      gap:15px;
    }

    .slide{
      min-width:250px;
      background:#1f2937;
      padding:15px;
      border-radius:15px;
      text-align:center;
      box-shadow:0 0 20px rgba(255,215,0,0.1);
    }

    .slide img{
      width:100%;
      border-radius:10px;
      margin-bottom:10px;
    }

    /* Batches */
    .batch-container{
      display:flex;
      overflow-x:auto;
      gap:15px;
    }

    .batch{
      min-width:220px;
      background:#1f2937;
      padding:15px;
      border-radius:15px;
      text-align:center;
      cursor:pointer;
      position:relative;
    }

    .locked::after{
      content:"ðŸ”’ Locked";
      position:absolute;
      top:10px;
      right:10px;
      background:#000000aa;
      padding:5px 8px;
      border-radius:10px;
      font-size:12px;
    }

    @keyframes shake{
      0%{transform:translateX(0);}
      25%{transform:translateX(-5px);}
      50%{transform:translateX(5px);}
      75%{transform:translateX(-5px);}
      100%{transform:translateX(0);}
    }

    .shake{
      animation:shake 0.3s;
    }

    .btn{
      width:100%;
      padding:14px;
      border-radius:12px;
      border:none;
      font-weight:bold;
      cursor:pointer;
      margin-top:10px;
    }

    .live-btn{background:#FFD700;color:black;}
    .record-btn{background:#1f2937;color:white;border:1px solid #FFD700;}
    .call-btn{background:#25D366;color:white;}

  </style>
</head>
<body>

<div class="container">

  <h2>Hi, <span id="studentName">Student</span> ðŸ‘‹</h2>

  <div class="banner">
    Stay Consistent. 90+ Is Possible. Your Future Is Watching.
  </div>

  <!-- Countdown -->
  <div class="card">
    <h3>Time Left for SSLC Exam</h3>
    <div class="countdown" id="countdown"></div>
  </div>

  <!-- Motivation Slider -->
  <div class="card">
    <h3>Motivation</h3>
    <div class="slider">

      <div class="slide">
        <img src="manjunath.JPG">
        <p>"The harder you work for something, the greater you'll feel when you achieve it."</p>
      </div>

      <div class="slide">
        <img src="mot1.jpg">
        <p>"Success doesnâ€™t come from comfort zones."</p>
      </div>

      <div class="slide">
        <img src="mot2.jpg">
        <p>"Discipline today. Result tomorrow."</p>
      </div>

      <div class="slide">
        <img src="mot3.jpg">
        <p>"Fear of exam? Good. Use it."</p>
      </div>

      <div class="slide">
        <img src="mot4.jpg">
        <p>"90+ is not luck. It is preparation."</p>
      </div>

    </div>
  </div>

<!-- Batches -->
<div class="card">
  <h3>Batches</h3>
  <div class="batch-container">

    <!-- Unlocked -->
    <div class="batch" onclick="openRecorded()">
      <img src="sslc.jpg">
      <b>SSLC 2026 Crash Course</b>
      <p>Study Now</p>
    </div>

    <!-- Locked -->
    <div class="batch locked" onclick="locked(this)">
      <img src="neet.jpg">
      NEET 2026
    </div>

    <div class="batch locked" onclick="locked(this)">
      <img src="kcet.jpg">
      KCET Mastery
    </div>

    <div class="batch locked" onclick="locked(this)">
      <img src="booster.jpg">
      Exam Booster
    </div>

  </div>
</div>

  <button class="btn live-btn" onclick="openLive()">
    â–¶ Watch Live Classes
  </button>

  <button class="btn record-btn" onclick="openRecorded()">
    ðŸŽ¥ Watch Recorded Classes
  </button>

  <button class="btn call-btn" onclick="callNow()">
    ðŸ“ž Speak to Manjunath Sir
  </button>

</div>

<script>

  // Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyCehyZQukDfslKTY_u9yXcUrzGtMNHvuPA",
    authDomain: "his-academy.firebaseapp.com",
    projectId: "his-academy",
    storageBucket: "his-academy.firebasestorage.app",
    messagingSenderId: "573278549264",
    appId: "1:573278549264:web:ca2ff160b5a100cc7d2195",
    measurementId: "G-8WPMS7H33F"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  // Protect Dashboard
  auth.onAuthStateChanged((user) => {
    if(user){
      db.collection("students").doc(user.uid).get()
      .then(doc => {
        if(!doc.exists || doc.data().paymentStatus !== "paid"){
          window.location.href = "courses.html";
        }
        document.getElementById("studentName").innerText = doc.data().name;
      });
    } else {
      window.location.href = "login.html";
    }
  });

  // Countdown
  const examDate = new Date("March 18, 2026 10:00:00").getTime();
  setInterval(() => {
    const now = new Date().getTime();
    const distance = examDate - now;

    const d = Math.floor(distance/(1000*60*60*24));
    const h = Math.floor((distance%(1000*60*60*24))/(1000*60*60));
    const m = Math.floor((distance%(1000*60*60))/(1000*60));
    const s = Math.floor((distance%(1000*60))/1000);

    document.getElementById("countdown").innerHTML =
      d+"d "+h+"h "+m+"m "+s+"s remaining";
  },1000);

  function locked(el){
    el.classList.add("shake");
    setTimeout(()=>el.classList.remove("shake"),300);
  }

  function openRecorded(){
    window.location.href = "recorded.html";
  }

  function openLive(){
    window.location.href = "live.html";
  }

  function callNow(){
    window.location.href = "tel:02269719375";
  }

</script>

</body>
</html>
